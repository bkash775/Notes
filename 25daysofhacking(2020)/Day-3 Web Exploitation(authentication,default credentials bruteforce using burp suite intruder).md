
#### Authentication

Authentication is a process of verifying a users' identity, normally by credentials (such as a username, user id or password); to put simply, authentication involves checking that somebody really is who they claim to be. Authorization (which is fundamentally different to authentication, but often used interchangeably) determines what a user can and can't access; authorization is covered in tomorrow walkthrough, today's task focuses on authentication and some common flaws.  
  

#### Default Credentials

You've probably purchased (or downloaded a service/program) that provides you with a set of credentials at the start and requires you to change the password after it'sÂ set up (usually these credentials that are provided at the start are the same for every device/every copy of the software). The trouble with this is that if it's not changed, an attacker can look up (or even guess) the credentials.

What's even worse is that these devices are often exposed to the internet, potentially allowing anyone to access and control it. In 2018 it was reported that a botnet (a number of internet-connected devices controlled by an attacker to typically perform DDoS attacks) called [Mirai](https://www.cloudflare.com/learning/ddos/glossary/mirai-botnet/) took advantage of **I**nternet **o**f **T**hings (**IoT**) devices by remotely logging, configuring the device to perform malicious attacks at the control of the attackers; the Mirai botnet infected over 600,000 IoT devices mostly by scanning the internet and using default credentials to gain access.

In fact, companies such as Starbucks and the US Department of Defense have been victim to leaving services running with default credentials, and bug hunters have been rewarded for reporting these very simple issues responsibly (Starbucks paid $250 for the reported issue):

- [https://hackerone.com/reports/195163](https://hackerone.com/reports/195163) - Starbucks, bug bounty for default credentials.
- [https://hackerone.com/reports/804548](https://hackerone.com/reports/804548) - US Dept Of Defense, admin access via default credentials.



#### Dictionary Attacks using BurpSuite

1. Once this has loaded, you want to "Intercept" your traffic by proxying it through the BurpSuite, which will then forward the request to the intended destination (in our case it will be a website) This will give you the ability to analyse and modify your browsers traffic.
    1. This example uses the AttackBox, and makes proxying traffic to BurpSuite easy (if you're using BurpSuite on your own machine, click [here](https://portswigger.net/burp/documentation/desktop/getting-started/proxy-setup/browser)) to see how to proxy traffic to BurpSuite). On the AttackBox, open Firefox, click on the FoxyProxy browser extension, and select "Burp" - this will now proxy your traffic to BurpSuite.  
        ![FoxyProxy](https://assets.tryhackme.com/additional/cmn-aoc2020/day-3/burpproxy.png)
    2. Go to the BurpSuite application and click the Proxy tab, then click the button "Intercept is on".
2. Navigate to your chosen website, as you're intercepting your traffic, you will see BurpSuite has held your request and will not forward it on until you tell it to. Let's go to our web application and submit your details into a given form, in our case its a generic login form.
3. This captured request will show up in the Proxy tab. Right-click it, and click "Send to Intruder"; BurpSuite has a lot of functionality to repeat modify and manipulate requests, Burp Intruder is a tool to automate customize web attacks. We will use intruder to loop through and submit a login request using a list of default credential, in the hopes that one of the usernames and passwords in the list is correct.  
    ![Burp Intruder link](https://assets.tryhackme.com/additional/cmn-aoc2020/day-3/sendtointruder.png)
4. Go to the Intruder tab, you should see your request. Here we will insert "positions" (telling Burp which fields to update when automating a request), select a list per position and start the attack.
    1. Click the **"Positions"** tab, and clear the pre-selected positions.
    2. Add the username and password values as positions (highlight the text and click "Add")
    3. **Select "Cluster Bomb" in the Attack type dropdown menu**; this attack type iterates through each payloads sets in turn, so every combination of each set is tested.  
        ![Burp Positions](https://assets.tryhackme.com/additional/cmn-aoc2020/day-3/addpositions.png)
5. We're going to tell each "Position" which Payload to use. In our example, we will select a list of usernames for the username field and a list of passwords for the password field.
    1. Click the "Payloads" tab, select your Payload set (set 1 is the username field, set 2 is the password field) and add select your list in the "Payload Options" section (or manually add entries).
    2. For set 1 (username), we will add a few common default username entries such as "admin", "root" and "user"  
        ![Burp Position Lists](https://assets.tryhackme.com/additional/cmn-aoc2020/day-3/lists.png)
    3. For set 2 (password), we will add a few common default passwords such as "password", "admin" and "12345"  
        ![Burp Set 2 payload](https://assets.tryhackme.com/additional/cmn-aoc2020/day-3/set2.png)
6. Click the "Start Attack" button, this will loop through each position list in every combination. You can sort by the "Length" or "Status" to identify a successful login (_typically all incorrect logins will have the same status or length, if a combination is correct it will be different_.

flag:`THM{885ffab980e049847516f9d8fe99ad1a}`

